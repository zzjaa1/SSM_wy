<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>报表中心计费报表</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/property.css">
    <link rel="stylesheet" href="../../css/Reporting_Charges_index.css">
    <script src="/ssm_wy/js/jquery-1.9.1.min.js"></script>
</head>
<body>
<div>
    <em><img src="../../images/H_form.png" alt=""></em><a href="#">报表中心</a><span>></span><a href="#">收费统计</a>
</div>
<div>
    <div id="chooseIn">
        <div class="chooseIn_top chairFix">
            <div><img src="../../images/H_ViewGallery.png" alt=""></div>
            <h5>筛选条件</h5>
        </div>
        <div class="chooseIn_con">
            <ul class="chairFix">
                <li>
                    <label for="">小区选择:</label>
                    <select name="" id="" style="width:220px;height:30px;">
                        <option value="">美景天城</option>
                    </select>
                </li>
                <li>
                    <label for="">时间选择:</label>
                    <input type="date">
                        ---
                    <input type="date" >
                </li>
                <li>
                    <button>统计</button>
                </li>
                <li>
                    <!--<a href="Reporting_Charges_more.html" style="color:#08c">更多报表>></a>-->
                </li>
            </ul>
        </div>
    </div>
</div>

<script src="/ssm_wy/Echarts/echarts.js"></script>
<script src="/ssm_wy/Echarts/echarts-gl.js"></script>
<!--<script src="/ssm_wy/Echarts/echarts.simple.min.js"></script>
<script src="/ssm_wy/Echarts/echarts.common.min.js"></script>
<script src="/ssm_wy/Echarts/echarts.min.js"></script>-->
<script type="text/javascript" src="/ssm_wy/js/jquery-1.8.3.min.js"></script>
<div id="main" style="width: 1000px;height:800px;"></div>
<script>
    var xdata=[];
    var ydata=[''];
    $.getJSON('/ssm_wy/querytj',function(obj,index){
//读取json文件文件，遍历对象重新组合成data
        var data=echarts.util.map(obj.li, function(item, index) {
            return {
                //index值x值，2指示y值，item.value指z值。其中x值代表省的变化，z值代表信用的变化
                value: [ index,2, item.value],
                //柱状图的填充颜色
                itemStyle:{
                    color:'#66D9EF'
                }
            }

        });
        for(var i=0;i<obj.li.length;i++){
            xdata.push(obj.li[i].name);//获取省名
        }
        console.log(xdata);
        console.log(data);
        initChart(xdata,data)

    })

   function initChart(xdata,ydata) {
       var myChart = echarts.init(document.getElementById('main'));
       var hours = ['12a', '1a', '2a', '3a', '4a', '5a', '6a',
           '7a', '8a', '9a','10a','11a',];
       var days = ['2018-09','2018-10','2018-11'];
       let earth = {};
       var data = [[1,19,3],[6,10,3],[6,21,2],[6,22,2],[6,11,2]];
       var option = {
           tooltip: {},
           visualMap: {
               max: 20,
               inRange: {
                   color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']
               }
           },
           xAxis3D: {
               type: 'category',
               data: days
           },
           yAxis3D: {
               type: 'category',
               data: ydata
           },
           zAxis3D: {
               type: 'value'
           },
           grid3D: {
               boxWidth: 100,
               boxDepth: 80,
               viewControl: {
                   // projection: 'orthographic'
               },
               light: {
                   main: {
                       intensity: 1.2,
                       shadow: true
                   },
                   ambient: {
                       intensity: 0.3
                   }
               }
           },
           series: [{
               type: 'bar3D',
               data:
                   ydata.map(function (item) {
                       console.log(item);
                       return {
                           value:
                           [item.value[1], item.value[0], item.value[2]],
                           // ydata
                       }
                   }),
               shading: 'lambert',

               label: {
                   textStyle: {
                       fontSize: 16,
                       borderWidth: 1
                   }
               },

               emphasis: {
                   label: {
                       textStyle: {
                           fontSize: 20,
                           color: '#900'
                       }
                   },
                   itemStyle: {
                       color: '#900'
                   }
               }
           }]
       }
       myChart.setOption(option);
   }

</script>

</body>
</html>