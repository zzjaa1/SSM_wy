<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>算费管理</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/property.css">
    <link rel="stylesheet" href="../../css/property_cost_management.css">
    <link rel="stylesheet" href="/ssm_wy/layui/css/layui.css" media="all">
    <script src="/ssm_wy/layui/layui.js"></script>
    <script src="/ssm_wy/js/jquery-1.9.1.min.js"></script>
    <link href="/ssm_wy/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
    <link href="/ssm_wy/bootstrap-treeview/src/css/bootstrap-treeview.css" rel="stylesheet">
    <script src="/ssm_wy/bootstrap-treeview/src/js/bootstrap-treeview.js"></script>
    <script src="/ssm_wy/bootstrap/dist/js/bootstrap.js"></script>
</head>
<body>
    <div>
        <em><img src="../../images/wy.png" alt=""></em><a href="#">费用设置</a><span>></span><a href="#">算费管理</a>
    </div>
    <div>
        <span>费用月份：</span><input type="date">
        <span>审核状态：</span>
        <select name="">`
            <option value="">全部</option>
            <option value="">未审核</option>
            <option value="">已审核</option>
        </select>
        <span>作废状态：</span>
        <select name="">
            <option value="">全部</option>
            <option value="">未作废</option>
            <option value="">已作废</option>
        </select>
        <input type="submit" value="搜索"style="width: 60px;height: 28px;color: #fff;font-size: 14px;font-family: '微软雅黑', serif;margin-left: 15px;background-color: #00a0e9;border:none;border-radius: 5px;cursor: pointer;text-align: center">
    </div>
    <div style="width: 1000px">
        <div id="searchTree" style="width: 400px"></div>
        <script>
            function ss() {
                var a=$('#searchTree').treeview("getNode","1").state.checked;
                if(a==false){
                    $('#searchTree').treeview('toggleNodeChecked', [ 1, { silent: true } ]);
                }else{
                    $('#searchTree').treeview('toggleNodeChecked', [ 1, { silent: false } ]);
                }
            }
            /*    var treeData = [{
                    text: "Parent 1",
                    nodes: [{
                        text: "Child 1",
                        nodes: [{
                            text: "Grandchild 1"
                        }, {
                            text: "Grandchild 2",
                            nodes: [{
                                text: "Grandchild 2-1",
                                nodes: [{
                                    text: "Grandchild 2-1-1"
                                }, {
                                    text: "Grandchild 2-2-1",
                                }]
                            }, {
                                text: "Grandchild 1-2",
                            }]
                        }]
                    }, {
                        text: "Child 2",
                        nodes: [{
                            text: "Grandchild 2-1"
                        }, {
                            text: "Grandchild 2-2",
                        }]
                    }]
                }, {
                    text: "Parent 2",
                    id:'11111'
                }, {
                    text: "Parent 3"
                }, {
                    text: "Parent 4"
                }, {
                    text: "Parent 5"
                }];*/
            var nodeCheckedSilent = false;
            function nodeChecked(event, node) {
                if (nodeCheckedSilent) {
                    return;
                }
                nodeCheckedSilent = true;
                checkAllParent(node);
                checkAllSon(node);
                nodeCheckedSilent = false;
                var a=$('#searchTree').treeview('getChecked');
                console.log("a="+a);
            }

            var nodeUncheckedSilent = false;

            function nodeUnchecked(event, node) {
                console.log("取消");
                if (nodeUncheckedSilent)
                    return;
                nodeUncheckedSilent = true;
                uncheckAllParent(node);
                uncheckAllSon(node);
                nodeUncheckedSilent = false;

            }

            //选中全部父节点
            function checkAllParent(node) {
                $('#searchTree').treeview('checkNode', node.nodeId, {
                    silent: true
                });
                var parentNode = $('#searchTree').treeview('getParent', node.nodeId);
                if (!("nodeId" in parentNode)) {
                    return;
                } else {
                    checkAllParent(parentNode);
                }

            }
            //取消全部父节点
            function uncheckAllParent(node) {
                $('#searchTree').treeview('uncheckNode', node.nodeId, {
                    silent: true
                });
                var siblings = $('#searchTree').treeview('getSiblings', node.nodeId);
                var parentNode = $('#searchTree').treeview('getParent', node.nodeId);
                if (!("nodeId" in parentNode)) {
                    return;
                }
                var isAllUnchecked = true; //是否全部没选中
                for (var i in siblings) {
                    if (siblings[i].state.checked) {
                        isAllUnchecked = false;
                        break;
                    }
                }
                if (isAllUnchecked) {
                    uncheckAllParent(parentNode);
                }

            }

            //级联选中所有子节点
            function checkAllSon(node) {
                $('#searchTree').treeview('checkNode', node.nodeId, {
                    silent: true
                });
                if (node.nodes != null && node.nodes.length > 0) {
                    for (var i in node.nodes) {
                        checkAllSon(node.nodes[i]);
                    }
                }
            }
            //级联取消所有子节点
            function uncheckAllSon(node) {
                $('#searchTree').treeview('uncheckNode', node.nodeId, {
                    silent: true
                });
                if (node.nodes != null && node.nodes.length > 0) {
                    for (var i in node.nodes) {
                        uncheckAllSon(node.nodes[i]);
                    }
                }
            }


            var data = [{
                text: "Node 1", //节点显示的文本值  string
                icon: "glyphicon glyphicon-th", //节点上显示的图标，支持bootstrap的图标  string
                //glyphicon glyphicon-home
                //1.glyphicon .glyphicon-gift
                //3.glyphicon .glyphicon-share-alt
                //单元 .glyphicon .glyphicon-plus-sign
                //X.glyphicon .glyphicon-remove-sign
                //1.glyphicon .glyphicon-th
                //2..glyphicon .glyphicon-stop
                //查glyphicon .glyphicon-zoom-in
                //selectedIcon: "/ssm_wy/images/y_xq.png", //节点被选中时显示的图标       string
                /* color: "#ff0000", //节点的前景色      string
                 backColor: "#1606ec", //节点的背景色      string
                 href: "#http://www.baidu.com", //节点上的超链接
                 selectable: true, //标记节点是否可以选择。false表示节点应该作为扩展标题，不会触发选择事件。  string
                 state: { //描述节点的初始状态    Object
                     checked: true, //是否选中节点
                     /!*disabled: true,*!/ //是否禁用节点
                     expanded: true, //是否展开节点
                     selected: true //是否选中节点
                 },*/
                tags: ['标签信息1', '标签信息2'], //向节点的右侧添加附加信息（类似与boostrap的徽章）    Array of Strings
                nodes: [{
                    text: "Child 1",
                    tags: ['nice', '真的nice'],
                    icon: "glyphicon glyphicon-stop",
                    nodes: [{
                        text: "Grandchild 1",
                        icon:"glyphicon glyphicon-share-alt",
                        nodes: [{
                            text: "Grandchild 1",
                            icon:"glyphicon glyphicon-home"
                        }]
                    }, {
                        text: "Grandchild 2"
                    }]
                }, {
                    text: "Child 2"
                }]
            }, {
                text: "Parent 2",
                nodes: [{
                    text: "Child 2",
                    nodes: [{
                        text: "Grandchild 3"
                    }, {
                        text: "Grandchild 4"
                    }]
                }, {
                    text: "Child 2"
                }]
            }, {
                text: "Parent 3"
            }, {
                text: "Parent 4"
            }, {
                text: "Parent 5"
            }];
            // .glyphicon .glyphicon-home
            var options = {
                data: data, //data属性是必须的，是一个对象数组    Array of Objects.
                color: "", //所有节点使用的默认前景色，这个颜色会被节点数据上的backColor属性覆盖.        String
                backColor: "", //所有节点使用的默认背景色，这个颜色会被节点数据上的backColor属性覆盖.     String
                borderColor: "#000000", //边框颜色。如果不想要可见的边框，则可以设置showBorder为false。        String
                //nodeIcon: "glyphicon glyphicon-home", //所有节点的默认图标glyphicon glyphicon-stop
                checkedIcon: "glyphicon glyphicon-zoom-in", //节点被选中时显示的图标         String
                //collapseIcon: "glyphicon glyphicon-minus", //节点被折叠时显示的图标        String
                //expandIcon: "glyphicon glyphicon-plus", //节点展开时显示的图标        String
                //emptyIcon: "glyphicon", //当节点没有子节点的时候显示的图标              String
                enableLinks: false, //是否将节点文本呈现为超链接。前提是在每个节点基础上，必须在数据结构中提供href值。        Boolean
                highlightSearchResults: true, //是否高亮显示被选中的节点        Boolean
                levels: 1, //设置整棵树的层级数  Integer
                multiSelect: false, //是否可以同时选择多个节点      Boolean
                onhoverColor: "#00EC00", //光标停在节点上激活的默认背景色      String
                selectedIcon: "glyphicon glyphicon-zoom-in", //节点被选中时显示的图标     String
                searchResultBackColor: "#0000C6", //当节点被选中时的背景色
                searchResultColor: "#0000C6", //当节点被选中时的前景色
                selectedBackColor: "#007979", //当节点被选中时的背景色
                selectedColor: "#FFFFFF", //当节点被选中时的前景色
                showBorder: false, //是否在节点周围显示边框
                showCheckbox: true, //是否在节点上显示复选框
                showIcon: true, //是否显示节点图标
                showTags: true, //是否显示每个节点右侧的标记。前提是这个标记必须在每个节点基础上提供数据结构中的值。
                //
                // uncheckedIcon: "glyphicon glyphicon-unchecked", //未选中的复选框时显示的图标，可以与showCheckbox一起使用
                onNodeChecked: nodeChecked,
                onNodeUnchecked: nodeUnchecked
            }
            $('#searchTree').treeview(options);
        </script>
        <div style="width: 600px;margin-right: 0px" >
           ddd
        </div>

    </div>

    <script type="text/javascript" src="../../js/jquery-1.8.3.min.js"></script>
    <script>

        /*全部作废效果*/
        $('#bt2').click(function()
        {
            $('#zhezhao').show();
            $('#login2').show();
            $('#login2').animate({'top':'200px'},300);
        });
        $('#btclose4').click(function()
        {
            $('#login2').animate({'top':'-200px'},200,function () {
                $('#login2').hide();
                $('#zhezhao').hide();
            });
        });
        $('#btclose5').click(function()
        {
            $('#login2').animate({'top':'-200px'},200,function () {
                $('#login2').hide();
                $('#zhezhao').hide();
            });
        });
        $('#btclose6').click(function()
        {
            $('#login2').animate({'top':'-200px'},200,function () {
                $('#login2').hide();
                $('#zhezhao').hide();
            });

        });

        /*全部审核效果*/
        $('#bt').click(function()
        {
            $('#zhezhao').show();
            $('#login').show();
            $('#login').animate({'top':'200px'},300);
        });
        $('#btclose').click(function()
        {
            $('#login').animate({'top':'-200px'},200,function () {
                $('#login').hide();
                $('#zhezhao').hide();
            });
        });
        $('#btclose2').click(function()
        {
            $('#login').animate({'top':'-200px'},200,function () {
                $('#login').hide();
                $('#zhezhao').hide();
            });
        });
        $('#btclose3').click(function()
        {
            $('#login').animate({'top':'-200px'},200,function () {
                $('#login').hide();
                $('#zhezhao').hide();
            });

        });

        /*删除效果*/
        $('.list button').click(function () {
            $(this).parent().parent().remove();
        });


        /*左侧效果*/
        $(".li_a").bind("click", function() {
           $(this).next(".left_slide").slideToggle(250).siblings(".left_slide").slideUp(250);
        });

        /*头部右侧效果*/
        $(document).click(function(ev){
            var e=ev||window.event;
            var target=e.target||e.srcElement;
            if(target.parentNode.className!="hr_div1"){
                $(".header_list").hide()
            }
        })
        $('.hr_div1').click(function(){
            var i=$('.hr_div1').index(this);
            if($(".header_list").eq(i).get(0).style.display=="block"){
                $(".header_list").eq(i).hide()
            }else{
                $(".header_list").hide()
                $(".header_list").eq(i).show()
            }
        })
        $('.hdl_select').click(function () {
            var a=$(this).html();
            $('.hr_show').html(a);
        });

    </script>
</body>
</html>